{"version":3,"sources":["calendar/utils/useStorage.js","calendar/leftSection/CalendarHeaders.js","calendar/eventsSeed/seed.js","calendar/utils/index.js","calendar/utils/getSelectedDay.js","calendar/leftSection/Hours.js","calendar/leftSection/CalendarBar.js","calendar/rightSection/Weekdays.js","calendar/rightSection/CalendarCell.js","calendar/rightSection/CalendarControls.js","calendar/rightSection/CalendarDay.js","calendar/rightSection/NewEvent.js","calendar/rightSection/DetailedTime.js","calendar/CalendarWrapper.js","App.js","serviceWorker.js","index.js"],"names":["StorageChangedEvent","payload","onStorageChange","detail","CustomEvent","key","empty","store","storage","window","useState","getItem","JSON","parse","value","setValue","setState","useCallback","state","newValue","setItem","stringify","dispatchEvent","storageArea","useEffect","event","id","undefined","addEventListener","removeEventListener","CalendarHeader","useStorage","selectedDay","date","useContext","DateContext","currentMonth","format","currentDay","moment","set","currentYear","currentWeekDay","className","fillRooms","events","rooms","Object","keys","forEach","e","scheduledEventsperRoomForDay","reduce","r","a","room","push","range","size","startAt","Array","map","i","getSelectedHours","eventsPerDay","scheduledHours","element","ends","starts","rangeHours","checkForFreeSlot","roomsAvalability","usedRooms","some","includes","getSelectedDay","Line","hour","setEventCreation","setEvents","selectedDate","setRooms","hasScheduledMeet","isStartOfMeet","created","selectedMeets","filter","checkAvailability","hasFreeSlot","onCreateEvent","allEventsPerDay","onEventRemove","meet","filteredEventsPerDay","onClick","selectedMeet","name","stopPropagation","Hours","TimeBar","CalendarHeaders","Weekdays","weekdayshort","weekdaysShort","day","Cell","setSelected","firstDay","parseInt","startOf","cell","isCurrentDate","currentDate","hasSomeEvent","isArray","length","CalendarControls","setDate","onPrev","subtract","onNext","add","CalendarCells","daysInSelectedMonth","daysInMonth","CalendarDay","NewEvent","Math","min","form","setForm","error","setError","onSave","currentSelectedDay","onCancelCreate","onChange","field","target","max","useMemo","isTsarevecFree","isArbanasiFree","data-testid","type","DetailedTime","creatingEvent","find","React","createContext","CalendarWrapper","Promise","res","setTimeout","data","then","response","meetings","start","updatedEvents","acc","curr","meetDate","meetDateLabel","substr","indexOf","end","meetingRoom","Provider","CalendarBar","rel","href","App","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console","message"],"mappings":"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","file":"static/js/main.940107b0.chunk.js","sourcesContent":["import { useState, useEffect, useCallback } from 'react'\n\nclass StorageChangedEvent extends CustomEvent {\n\n\tconstructor(payload) {\n\t\tsuper(StorageChangedEvent.onStorageChange, { detail: payload })\n\t}\n}\n\nexport default (key, empty, store = 'session') => {\n\tconst storage = window[store + 'Storage']\n\tconst [ value, setValue ] = useState(() => storage.getItem(key) ? JSON.parse(storage.getItem(key)) : empty)\n  \n    \n\tconst setState = useCallback((state) => {\n        //console.log('setstate', state)\n        const newValue = typeof(state) === 'function' ? state(value) : state\n\t\tstorage.setItem(key, JSON.stringify(newValue))\n\t\twindow.dispatchEvent(new StorageChangedEvent({ key, newValue, storageArea: storage }))\n    }, [key, value, storage]);\n    \n    useEffect(()=>{\n        if(! storage.getItem(key)){\n            //console.log('storage.getItem(key)')\n            empty &&setState(empty)//setting the default value\n\n        }\n    },[empty,key,storage]);//eslint-disable-line\n\n\tuseEffect(() => {\n\t\tconst onStorageChange = (event) => {\n\t\t\tconst payload = event.detail || event\n\t\t\tconst { key: id, newValue, storageArea } = payload\n\n\t\t\tif (storageArea === storage && id === key&&newValue!== undefined) {\n              //  console.log(newValue,key)\n\n\t\t\t\tsetValue(newValue)\n\t\t\t}\n\t\t}\n\n\t\twindow.addEventListener(StorageChangedEvent.onStorageChange, onStorageChange)\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener(StorageChangedEvent.onStorageChange, onStorageChange)\n\t\t}\n\t}, [key, storage])\n\n\treturn [value, setState]\n}\n","import React, {useContext} from 'react';\nimport {DateContext} from '../CalendarWrapper'\nimport moment from 'moment'\nimport useStorage from '../utils/useStorage';\n\nfunction CalendarHeader() {\n  const [selectedDay]= useStorage('Store.selectedDay','');\n  const {date} = useContext(DateContext);\n  const currentMonth = date.format(\"MMMM\");\n  let currentDay = moment().format('D');\n\n  date.set(\"date\",selectedDay||currentDay); \n\n  let currentYear = date.format('Y')\n  let currentWeekDay = date.format('dddd')\n\n  return (\n    <>\n      <h1 className='flex centered blackCell'>{`${selectedDay||currentDay} ${currentMonth} ${currentYear}`}</h1>\n      <h2 className='flex centered blackCell'> {currentWeekDay}</h2>\n    </>\n  );\n}\n\nexport default CalendarHeader;\n","export default {\n    \"meetingRooms\": [\"Tsarevets\", \"Arbanasi\"],\n    \"meetings\": [\n        {\n            \"start\": \"2020-06-03T11:00:00.000Z\",\n            \"end\": \"2020-06-03T12:00:00.000Z\",\n            \"name\": \"Interview With A New Colleague\",\n            \"meetingRoom\": \"Tsarevets\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-03T14:00:00.000Z\",\n            \"end\": \"2020-06-03T15:30:00.000Z\",\n            \"name\": \"Daily Standup\",\n            \"meetingRoom\": \"Tsarevets\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-03T12:00:00.000Z\",\n            \"end\": \"2020-06-03T13:00:00.000Z\",\n            \"name\": \"Performance Review\",\n            \"meetingRoom\": \"Tsarevets\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-03T15:30:00.000Z\",\n            \"end\": \"2020-06-03T16:00:00.000Z\",\n            \"name\": \"New Sprint Planning\",\n            \"meetingRoom\": \"Tsarevets\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-03T17:00:00.000Z\",\n            \"end\": \"2020-06-03T18:00:00.000Z\",\n            \"name\": \"Happy Hour\",\n            \"meetingRoom\": \"Tsarevets\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-03T11:00:00.000Z\",\n            \"end\": \"2020-06-03T12:00:00.000Z\",\n            \"name\": \"MVP Presentation\",\n            \"meetingRoom\": \"Arbanasi\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-03T12:00:00.000Z\",\n            \"end\": \"2020-06-03T13:00:00.000Z\",\n            \"name\": \"Interview With A New Colleague\",\n            \"meetingRoom\": \"Arbanasi\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-03T10:00:00.000Z\",\n            \"end\": \"2020-06-03T10:30:00.000Z\",\n            \"name\": \"Morning Coffee Meeting\",\n            \"meetingRoom\": \"Arbanasi\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-04T12:00:00.000Z\",\n            \"end\": \"2020-06-04T13:00:00.000Z\",\n            \"name\": \"Interview With A New Colleague\",\n            \"meetingRoom\": \"Tsarevets\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-04T14:00:00.000Z\",\n            \"end\": \"2020-06-04T15:30:00.000Z\",\n            \"name\": \"Daily Standup\",\n            \"meetingRoom\": \"Tsarevets\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-04T11:00:00.000Z\",\n            \"end\": \"2020-06-04T12:00:00.000Z\",\n            \"name\": \"MVP Presentation\",\n            \"meetingRoom\": \"Arbanasi\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-04T10:00:00.000Z\",\n            \"end\": \"2020-06-04T10:30:00.000Z\",\n            \"name\": \"Morning Coffee Meeting\",\n            \"meetingRoom\": \"Arbanasi\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-05T10:00:00.000Z\",\n            \"end\": \"2020-06-05T11:00:00.000Z\",\n            \"name\": \"Presentation\",\n            \"meetingRoom\": \"Tsarevets\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-05T14:00:00.000Z\",\n            \"end\": \"2020-06-05T15:30:00.000Z\",\n            \"name\": \"Daily Standup\",\n            \"meetingRoom\": \"Tsarevets\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-05T11:00:00.000Z\",\n            \"end\": \"2020-06-05T12:00:00.000Z\",\n            \"name\": \"Conference Call\",\n            \"meetingRoom\": \"Arbanasi\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-05T10:00:00.000Z\",\n            \"end\": \"2020-06-05T10:30:00.000Z\",\n            \"name\": \"Morning Coffee Meeting\",\n            \"meetingRoom\": \"Arbanasi\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-09T10:00:00.000Z\",\n            \"end\": \"2020-06-09T11:00:00.000Z\",\n            \"name\": \"Presentation\",\n            \"meetingRoom\": \"Tsarevets\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-09T14:00:00.000Z\",\n            \"end\": \"2020-06-09T15:30:00.000Z\",\n            \"name\": \"Daily Standup\",\n            \"meetingRoom\": \"Tsarevets\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-09T11:00:00.000Z\",\n            \"end\": \"2020-06-09T12:00:00.000Z\",\n            \"name\": \"Conference Call\",\n            \"meetingRoom\": \"Arbanasi\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-09T10:00:00.000Z\",\n            \"end\": \"2020-06-09T10:30:00.000Z\",\n            \"name\": \"Morning Coffee Meeting\",\n            \"meetingRoom\": \"Arbanasi\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-10T10:00:00.000Z\",\n            \"end\": \"2020-06-10T11:00:00.000Z\",\n            \"name\": \"Presentation\",\n            \"meetingRoom\": \"Tsarevets\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-10T14:00:00.000Z\",\n            \"end\": \"2020-06-10T15:30:00.000Z\",\n            \"name\": \"Daily Standup\",\n            \"meetingRoom\": \"Tsarevets\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-10T11:00:00.000Z\",\n            \"end\": \"2020-06-10T12:00:00.000Z\",\n            \"name\": \"Conference Call\",\n            \"meetingRoom\": \"Arbanasi\",\n            \"participants\": []\n        },\n        {\n            \"start\": \"2020-06-10T10:00:00.000Z\",\n            \"end\": \"2020-06-10T10:30:00.000Z\",\n            \"name\": \"Morning Coffee Meeting\",\n            \"meetingRoom\": \"Arbanasi\",\n            \"participants\": []\n        }\n    ]\n}","\nimport data from '../eventsSeed/seed'\n\nexport const fillRooms = events => {\n    const rooms = {};\n    Object.keys(events).forEach(e=>{\n      const eventsPerDay = events[e];\n      const scheduledEventsperRoomForDay = eventsPerDay.reduce((r,a)=>{\n        r[a.room] = r[a.room] || [];\n        r[a.room].push(a);\n        return r;\n      },{})\n      rooms[e]=scheduledEventsperRoomForDay;\n  });\n  return rooms\n}\n\nexport const fetchData = ()=> new Promise(res=>{\n    setTimeout(()=>res(data),0)\n  });\n  \n\nexport function range(size, startAt = 0) {\n    return [...Array(size).keys()].map(i => i + startAt);\n}\n\nexport const getSelectedHours = (eventsPerDay)=> {   \n  let scheduledHours=[];\n    eventsPerDay.forEach(element => {\n      if(element.ends&&(element.starts|| element.starts===0)){\n        let rangeHours = range(element.ends- element.starts, element.starts);\n        scheduledHours.push(...rangeHours)\n      } \n    });\n  return scheduledHours\n}\nexport const checkForFreeSlot =(roomsAvalability) => (date,room, starts,ends)=>{\n  const usedRooms = roomsAvalability[date] !== undefined? roomsAvalability[date][room] ||[] : []\n  const scheduledHours = getSelectedHours(usedRooms);\n  const rangePerCurrentEvent = range(ends-starts,starts)\n\n  return !rangePerCurrentEvent.some(e => scheduledHours.includes(e))\n}"," const getSelectedDay = (date,selectedDay)=>{\n    const currentMonth = date.format(\"MMMM\");\n    let currentYear = date.format('Y');\n    let currentWeekDay = date.format('D');\n    return (selectedDay||currentWeekDay)+currentMonth +currentYear\n  }\n  export default getSelectedDay;","import React, {useContext, useCallback} from 'react';\nimport {DateContext} from '../CalendarWrapper'\nimport useStorage from '../utils/useStorage';\nimport { getSelectedHours,checkForFreeSlot,fillRooms } from '../utils/';\nimport getSelectedDay from '../utils/getSelectedDay';\n\nconst Line = ({ hour })=>{\n  const {date,setEventCreation} = useContext(DateContext);\n  const [events, setEvents]=useStorage('Store.events',{});\n  const [selectedDay]=useStorage('Store.selectedDay','');\n  const selectedDate = getSelectedDay(date,selectedDay);\n  const eventsPerDay = (events[selectedDate]||[])\n  const [rooms, setRooms]= useStorage('Store.roomAvailability',{});\n\n  const scheduledHours = getSelectedHours(eventsPerDay);\n  const hasScheduledMeet = scheduledHours.includes(hour);\n\n  const isStartOfMeet = eventsPerDay.some(e => e.starts===hour && e.created === true);\n  const selectedMeets = eventsPerDay.filter(e=> e.starts === hour);\n  const checkAvailability = checkForFreeSlot(rooms);\n\n  const hasFreeSlot = checkAvailability(selectedDate,'Arbanasi',hour,hour+1) || checkAvailability(selectedDate,'Tsarevets',hour,hour+1)\n\n  const onCreateEvent = useCallback(()=>{\n      setEventCreation(true);\n      const allEventsPerDay =  events[selectedDate]||[]\n      events[selectedDate] = [...allEventsPerDay,{starts:hour,ends: null, room: null, created:false}]\n      setEvents(events)\n  },[setEventCreation,events,selectedDate,setEvents, hour]);\n\n  const onEventRemove = useCallback((meet)=>{\n    let filteredEventsPerDay = events[selectedDate].filter(e => !(e.starts=== meet.starts && e.ends===meet.ends&& e.room ===meet.room))\n    events[selectedDate]= filteredEventsPerDay;\n    setEvents(events);\n    setRooms(fillRooms(events))\n\n  },[selectedDate,setEvents,events, setRooms])\n\n  return <div\n        className={`line ${hasScheduledMeet ? 'hasScheduledMeet':''}`}\n        onClick={hasFreeSlot?onCreateEvent:null}>\n      { isStartOfMeet && selectedMeets.filter(e => e.created).map(selectedMeet=>{\n        return <div key={selectedMeet.name+selectedMeet.room} className='flex'>\n        <p  >{`${selectedMeet.name}, Room: ${selectedMeet.room}: ${selectedMeet.starts}:00 - ${selectedMeet.ends}:00`}</p> \n        <p onClick={(e)=>{\n          e.stopPropagation()\n          onEventRemove(selectedMeet)\n        }} className={hasScheduledMeet?'remove':''}></p>\n        </div>\n      })}\n    </div>\n}\nfunction Hours() {\n  return (\n          <div className='flex column hours'>\n                  {\n                      [...Array(24).keys()].map(e => {\n                        return <div className='flex' key={e}>\n                                    <div className='blackCell'>{`${e>9?e:'0'+e}:00`}</div>\n                                    <Line hour={e}/>\n                        </div>\n                      })\n                  }\n                  \n          </div>\n\n  );\n}\n\nexport default Hours;\n","import React from 'react';\nimport CalendarHeaders from './CalendarHeaders'\nimport Hours from './Hours'\n\nfunction TimeBar() {\n  \n  return (\n      <div className='flex column'>\n          <CalendarHeaders/>\n          <Hours />\n      </div>  \n  );\n}\n\nexport default TimeBar;\n","import React from 'react';\nimport moment from 'moment'\n\nfunction Weekdays() {\n const weekdayshort = moment.weekdaysShort();\n\n  return (\n    <div className='weekdays'>\n            {weekdayshort.map(day => (\n              <div key={day}>\n               {day}\n              </div>\n            ))}\n        </div>     \n  );\n}\n\nexport default Weekdays;\n","import React, { useContext} from 'react';\nimport moment from 'moment'\nimport {DateContext} from '../CalendarWrapper'\nimport useStorage from '../utils/useStorage';\n\nfunction  Cell({day}){\n  const { date,setEventCreation } = useContext(DateContext);\n  const [selectedDay,setSelected]=useStorage('Store.selectedDay','');\n  const [events]=useStorage('Store.events',{});\n\n  let firstDay = parseInt(date.startOf('month').format('d'))\n  let currentDay = parseInt(moment().format('D'));\n  let cell = day+1-firstDay;\n\n  if(day<firstDay){//empty cells\n    return <div key={day}></div>\n  }\n\n  const isCurrentDate = cell===currentDay && moment().format('MMMM') === date.format('MMMM');\n\n  let currentDate = cell+ date.format('MMMM')+date.format('Y')\n  const hasSomeEvent = Array.isArray( events[currentDate])?events[currentDate].length>0: false\n\n  return  <div \n            className={`centered blackCell ${hasSomeEvent ? 'hasEvent':''} ${isCurrentDate?'currentDay': parseInt(selectedDay)===cell?'selectedDay': ''}`} \n            key={cell}\n            onClick={()=>{\n              setEventCreation(false)\n              setSelected(cell)}\n            }\n            >\n           \n      {cell}\n  </div>\n}\n\n\n\n\n\nexport default Cell;\n","import React, { useContext, useCallback} from 'react';\nimport moment from 'moment'\nimport {DateContext} from '../CalendarWrapper'\n\nfunction CalendarControls(){\n  const {date, setDate,setEventCreation} = useContext(DateContext);\n\n  const onPrev = useCallback(()=>{\n      setEventCreation(false)\n      date.subtract(1,'M');\n      setDate(moment({...date}))\n  },[date,setDate,setEventCreation]);\n\n  const onNext = useCallback(()=>{\n    setEventCreation(false)\n    date.add(1, 'M')\n    setDate(moment({...date}))\n  },[date,setDate,setEventCreation]);\n\n  return <div className='flex controls'>\n      <button className='blackCell' onClick={onPrev}>Prev</button>\n      <button className='blackCell' onClick={onNext}>Next</button>\n  </div>\n}\n\nexport default CalendarControls;\n","import React, { useContext} from 'react';\nimport { DateContext } from '../CalendarWrapper'\nimport Cell from './CalendarCell'\nimport CalendarControls from './CalendarControls'\n\nfunction CalendarCells(){\n  const {date} = useContext(DateContext);\n  let days = date.daysInMonth();\n  let firstDay = parseInt(date.startOf('month').format('d'));\n  const daysInSelectedMonth = days+firstDay\n\n  return  (\n    <div className='days'>\n    {\n      [...Array(daysInSelectedMonth).keys()].map(e => <Cell key={e} day={e} />)\n    }\n  </div>\n  )\n}\n\n\nfunction CalendarDay() {\n\n  return (\n    <>\n      <CalendarCells />\n      <CalendarControls />\n    </>\n  );\n}\n\nexport default CalendarDay;\n","import React, {useContext, useState, useCallback, useMemo} from 'react';\nimport useStorage from '../utils/useStorage';\nimport getSelectedDay from '../utils/getSelectedDay';\nimport {fillRooms,checkForFreeSlot} from '../utils/';\nimport {DateContext} from '../CalendarWrapper'\n\nfunction NewEvent({event}) {\n  const [selectedDay]= useStorage('Store.selectedDay','');\n  const {date,setEventCreation} = useContext(DateContext);\n  const [events, setEvents]= useStorage('Store.events',{});\n  const [form, setForm] = useState({starts:event.starts,ends:Math.min(event.starts+1,24),room:'empty',name:'Event'});\n  const [rooms,setRooms]= useStorage('Store.roomAvailability',{});\n  const checkAvailability = checkForFreeSlot(rooms);\n  const [ error, setError] = useState(false)\n  const selectedDate = getSelectedDay(date,selectedDay);\n  let starts = parseInt(form.starts);\n  let ends = parseInt(form.ends);\n  \n  const onSave = useCallback(()=>{\n\n            if(starts >=ends || form.room ==='empty'){\n              setError(true);\n              return\n            }\n\n            const currentSelectedDay = getSelectedDay(date,selectedDay);\n\n            const hasFreeSlot = checkAvailability(currentSelectedDay,form.room, starts, form.ends-1);\n\n             if(hasFreeSlot){\n              let meet = {...form,starts: starts, ends, room: form.room, created:true};\n              if(!events[currentSelectedDay]){// TODO mock useStorage to avoid that if Check per testing purposes\n                events[currentSelectedDay]=[]\n              }\n              events[currentSelectedDay].push(meet);\n \n              let allEventsPerDay = events[currentSelectedDay].filter(e => e.ends!== null);\n              events[currentSelectedDay]= allEventsPerDay\n                setEvents(events);\n                setRooms(fillRooms(events))\n                setEventCreation(false)\n             }else{\n               setError(true)\n             }\n\n            \n  },[date,events,setEvents,setEventCreation,selectedDay,form, checkAvailability, setRooms,starts,ends])\n  \n  const onCancelCreate = useCallback(()=>{\n              const currentSelectedDay = getSelectedDay(date,selectedDay);\n              let allEventsPerDay = (events[currentSelectedDay]||[]).filter(e => e.ends !== null);\n              events[currentSelectedDay] = allEventsPerDay;\n              setEvents(events);\n              setEventCreation(false)\n  },[events,setEvents,setEventCreation,date,selectedDay]);\n\n  const onChange = useCallback((field)=>{\n   \n    return ({target:{value}})=>{\n\n      error && setError(false)\n      setForm(state=>{\n        if(field ==='starts'){\n          return ({...state,[field]:Math.min(Math.max(value,0),23)})\n        }\n        if(field ==='ends'){\n          return ({...state,[field]:Math.min(Math.max(value,1),24)})\n        }\n\n        return ({...state,[field]:value})\n      })}\n  },[ setForm, setError,error ]);\n\nconst [isTsarevecFree, isArbanasiFree] = useMemo(()=>{\n  return [ (starts|| starts===0) && ends && checkAvailability(selectedDate,'Tsarevets',starts,ends<starts? starts: ends),\n  (starts|| starts===0) && ends && checkAvailability(selectedDate,'Arbanasi',starts,ends<starts? starts: ends)\n]\n},[ checkAvailability,selectedDate,starts,ends])\n\nreturn (\n      <div className='flex column newevent blackCell'>\n         New Event\n         <div>Name<input value={form.name} onChange={onChange('name')}  ></input></div>\n         <div>Starts<input data-testid='start'  value={starts} type='number' onChange={onChange('starts')} ></input></div>\n         <div>Ends\n          <input data-testid='ends' value={ends} type='number'  onChange={onChange('ends')}></input>\n        </div>\n         <div>Room\n         <select  data-testid='room' name=\"room\" onChange={onChange('room')} value={form.room}>\n         <option value=\"empty\">Select room</option>\n            {isTsarevecFree && <option value=\"Tsarevets\">Tsarevets</option>}\n           { isArbanasiFree && <option value=\"Arbanasi\">Arbanasi</option>}\n           \n        </select>\n         </div>\n         <div className='controls'>\n            <button className='blackCell' onClick={onCancelCreate}>Cancel</button>\n            <button className='secondary' onClick={onSave}>Save</button>\n            {error && <div className='error'>Check the start/end time. Fill the room field.</div>}\n         </div>\n         </div> \n  );\n}\n\nexport default NewEvent;\n","import React, {useContext} from 'react';\nimport Weekdays from './Weekdays'\nimport CalendarDays from './CalendarDay'\nimport NewEvent from './NewEvent'\nimport {DateContext} from '../CalendarWrapper'\nimport useStorage from '../utils/useStorage';\nimport getSelectedDay from '../utils/getSelectedDay';\n\nfunction DetailedTime() {\n  const [selectedDay]=useStorage('Store.selectedDay','');\n  const {creatingEvent,date} = useContext(DateContext);\n  const selectedDate = getSelectedDay(date,selectedDay);\n  const [events]=useStorage('Store.events',{});\n\n  const event = (events[selectedDate]||[]).find(e => e.ends===null)||{}\n\n  return (\n      <div className='flex column'>\n          <Weekdays />\n          <CalendarDays />\n          {creatingEvent && <NewEvent event={event} />}\n      </div> \n  );\n}\n\nexport default DetailedTime;\n","import React, {useState, useEffect} from 'react';\nimport './styles/Common.css';\nimport './styles/Calendar.css';\nimport CalendarBar from './leftSection/CalendarBar'\nimport DetailedTime from './rightSection/DetailedTime'\nimport moment from 'moment'\nimport useStorage from './utils/useStorage';\nimport { fillRooms,fetchData } from './utils/';\n\nexport const DateContext = React.createContext();\n\nfunction CalendarWrapper() {\n  const [date,setDate]= useState(moment())\n  const [creatingEvent,setEventCreation]= useState(false);\n  const [events,setEvents]=useStorage('Store.events',{});\n  const [,setRooms] = useStorage('Store.roomAvailability',{});\n  useStorage('Store.selectedDay',moment().format('D'));\n\n\n  useEffect(()=>{\n\n    fetchData().then(response=>{\n       moment(response.meetings[0].start).format('hh:mm')\n       if(Object.keys(events).length!==0){\n         return\n       }\n    \n       const updatedEvents = response.meetings.reduce((acc, curr)=>{\n          let meetDate = moment(curr.start);\n          let meetDateLabel = meetDate.format('D')+meetDate.format(\"MMMM\")+meetDate.format('Y')\n\n          let event = {\n            starts:parseInt(curr.start.substr(curr.start.indexOf('T')+1,5)),\n            ends:parseInt(curr.end.substr(curr.start.indexOf('T')+1,5)),\n            name: curr.name,\n            room:curr.meetingRoom,\n            created:true\n          }\n          \n          if(Array.isArray(acc[meetDateLabel])){\n            acc[meetDateLabel].push(event)\n          }else{\n            acc[meetDateLabel]=[];\n            acc[meetDateLabel].push(event)\n\n          }\n          return acc\n        },{})\n \n        setEvents(updatedEvents)\n        setRooms(fillRooms(updatedEvents))\n    })\n  },[events, setEvents, setRooms])\n\n  return (\n    <div className=\"wrapper\">\n      <DateContext.Provider value={{date,setDate,creatingEvent,setEventCreation}}>\n            <CalendarBar />\n            <DetailedTime />\n      </DateContext.Provider>\n      <a className='blackCell' target=\"_blank\" rel=\"noopener noreferrer\" href='https://github.com/PetyoPlPetrov/calendar.github.io/blob/master/README.md'><h3>Github</h3> </a>\n    </div>\n  );\n}\n\nexport default CalendarWrapper;\n","import React from 'react';\nimport CalendarWrapper from './calendar/CalendarWrapper';\n\n function App() {\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header flex centered\">\n      <CalendarWrapper />\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}